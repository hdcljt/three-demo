let a=document.createElement("style");a.innerHTML="",document.head.appendChild(a);import{d as e,r as n,o,S as t,B as d,M as s,a as i,U as r,j as h,D as c,J as l,X as w,Y as g,Z as m,w as p,_ as C,$ as u,a0 as v,a1 as f,P as S,W as x,b,h as L}from"./index.f7c153f6.js";import{u as M,m as j,b as P,C as F,D as y,M as D,c as A,a as H}from"./index.22ce2b7e.js";import{O as W}from"./OrbitControls.7a42b37a.js";const E=(a,e,n,o)=>{const t=a.addFolder(n);t.add(e,"x",-10,10,.1).onChange(o),t.add(e,"y",-10,10,.1).onChange(o),t.add(e,"z",-10,10,.1).onChange(o),t.open()};var z=e({setup(){const a=n(null),e=M.create();return o(()=>{const n=new t;j().then(a=>{a.receiveShadow=!0,n.add(a),P(M)});{const a=4,o=new d(a,a,a),t=new s({color:"#8AC"}),r=new i(o,t);r.position.set(a+1,a/2,0),r.castShadow=!0,r.receiveShadow=!0,n.add(r),e.addColor(new F(t,"color"),"value").name("box.color").onChange(()=>P(M))}{const a=30,e=new d(a,a,a),o=new s({color:"#CCC",side:r}),t=new i(e,o);t.position.set(0,a/2-.1,0),t.receiveShadow=!0,n.add(t)}{const a=3,o=new h(a,32,16),t=new s({color:"#CA8"}),d=new i(o,t);d.position.set(-a-1,a+2,0),d.castShadow=!0,d.receiveShadow=!0,n.add(d),e.addColor(new F(t,"color"),"value").name("sphere.color").onChange(()=>P(M))}{const a=["none","AmbientLight","HemisphereLight","DirectionalLight","SpotLight","PointLight"];let o,t,d,s;e.add({light:"none"},"light",a).listen().onChange(a=>{if(o&&(n.remove(o),o=null),t&&(n.remove(t),t.dispose(),t=null),d&&(n.remove(d),d=null),s&&(e.removeFolder(s),s=null),"none"===a)return P(M);s=e.addFolder(a),s.open();if("DirectionalLight"===a){o=new c(16777215,1),o.castShadow=!0,o.position.set(0,10,0),o.target.position.set(-4,0,-4),n.add(o.target),d=new l(o.shadow.camera),n.add(d),t=new w(o),n.add(t);const a=()=>{o.target.updateMatrixWorld(),t.update(),o.shadow.camera.updateProjectionMatrix(),d.update()};a(),E(s,o.position,"position",()=>{a(),P(M)}),E(s,o.target.position,"target",()=>{a(),P(M)}),s.add(o,"castShadow").onChange(e=>{o.castShadow=e,a(),P(M)});const e=s.addFolder("Shadow Camera");e.open(),e.add(new y(o.shadow.camera,"left","right"),"value",1,100).name("width").onChange(()=>{a(),P(M)}),e.add(new y(o.shadow.camera,"bottom","top"),"value",1,100).name("height").onChange(()=>{a(),P(M)});const i=new D(o.shadow.camera,"near","far",.1);e.add(i,"min",.1,50,.1).name("near").onChange(()=>{a(),P(M)}),e.add(i,"max",.1,50,.1).name("far").onChange(()=>{a(),P(M)}),e.add(o.shadow.camera,"zoom",.01,2,.01).onChange(()=>{a(),P(M)})}else if("SpotLight"===a){const a=0,e=Math.PI/3;o=new g(16777215,1,a,e,0,1),o.castShadow=!0,o.position.set(0,10,0),o.target.position.set(-5,0,0),n.add(o.target),d=new l(o.shadow.camera),n.add(d),t=new m(o),n.add(t);const i=()=>{o.target.updateMatrixWorld(),t.update(),o.shadow.camera.updateProjectionMatrix(),d.update()};i(),E(s,o.position,"position",()=>{i(),P(M)}),E(s,o.target.position,"target",()=>{i(),P(M)}),s.add(o,"distance",0,40).onChange(()=>{i(),P(M)}),s.add(new A(o,"angle"),"value",0,90).name("angle").onChange(()=>{i(),P(M)}),s.add(o,"penumbra",0,1,.1).onChange(()=>{i(),P(M)}),s.add(o,"decay",0,4,.1).onChange(()=>{i(),P(M)}),s.add(o,"castShadow").onChange(a=>{i(),P(M)});const r=s.addFolder("Shadow Camera");r.open();const h=new D(o.shadow.camera,"near","far",.1);r.add(h,"min",.1,50,.1).name("near").onChange(()=>{i(),P(M)}),r.add(h,"max",.1,50,.1).name("far").onChange(()=>{i(),P(M)})}else if("PointLight"===a){o=new p(16777215,1,0,1),o.castShadow=!0,o.position.set(0,10,0),t=new C(o,1),n.add(t),E(s,o.position,"position",()=>{P(M)}),s.add(o,"distance",0,40).onChange(()=>{P(M)}),s.add(o,"decay",0,4,.1).onChange(()=>{P(M)}),s.add(o,"castShadow").onChange(a=>{o.castShadow=a,P(M)});const a=s.addFolder("Shadow Camera");a.open();const e=new D(o.shadow.camera,"near","far",.1);a.add(e,"min",.1,50,.1).name("near").onChange(()=>{P(M)}),a.add(e,"max",.1,50,.1).name("far").onChange(()=>{P(M)})}else if("HemisphereLight"===a){o=new u(16777215,16777215,1),t=new v(o,5),n.add(t);const a=()=>{t.update()};a(),E(s,o.position,"position",()=>{a(),P(M)}),s.addColor(new F(o,"groundColor"),"value").name("groundColor").onChange(()=>{a(),P(M)})}else"AmbientLight"===a&&(o=new f(16777215,1));n.add(o),s.addColor(new F(o,"color"),"value").name("color").onChange(()=>P(M)),s.add(o,"intensity",0,3).onChange(()=>P(M)),P(M)})}const o=new S(45,2,5,100);o.position.set(0,10,20);let b=new W(o,a.value);b.target.set(0,5,0),b.enableDamping=!0;const L=new x({canvas:a.value});L.shadowMap.enabled=!0;const M=()=>{if(H(L)){const a=L.domElement;o.aspect=a.clientWidth/a.clientHeight,o.updateProjectionMatrix()}b.update(),L.render(n,o)};P(M),b.addEventListener("change",()=>P(M))}),b(()=>{M.dispose()}),()=>L("canvas",{ref:a,class:"canvas"})}});export default z;
