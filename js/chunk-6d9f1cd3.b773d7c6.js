(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6d9f1cd3"],{"159b":function(e,t,n){var o=n("da84"),a=n("fdbc"),c=n("17c2"),s=n("9112");for(var i in a){var r=o[i],u=r&&r.prototype;if(u&&u.forEach!==c)try{s(u,"forEach",c)}catch(p){u.forEach=c}}},"162d":function(e,t,n){"use strict";var o=n("3226"),a=n.n(o);n.d(t,"default",(function(){return a.a}))},"17c2":function(e,t,n){"use strict";var o=n("b727").forEach,a=n("a640"),c=n("ae40"),s=a("forEach"),i=c("forEach");e.exports=s&&i?[].forEach:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}},3226:function(e,t,n){e.exports={content:"c4_content_2uyrI",canvas:"c4_canvas_3rxR3",item:"c4_item_jBhc8",hide:"c4_hide_cLcGr"}},4160:function(e,t,n){"use strict";var o=n("23e7"),a=n("17c2");o({target:"Array",proto:!0,forced:[].forEach!=a},{forEach:a})},4721:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var o=n("5a89"),a=function(e,t){void 0===t&&console.warn('THREE.OrbitControls: The second parameter "domElement" is now mandatory.'),t===document&&console.error('THREE.OrbitControls: "document" should not be used as the target "domElement". Please use "renderer.domElement" instead.'),this.object=e,this.domElement=t,this.enabled=!0,this.target=new o["Qb"],this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.enableDamping=!1,this.dampingFactor=.05,this.enableZoom=!0,this.zoomSpeed=1,this.enableRotate=!0,this.rotateSpeed=1,this.enablePan=!0,this.panSpeed=1,this.screenSpacePanning=!0,this.keyPanSpeed=7,this.autoRotate=!1,this.autoRotateSpeed=2,this.enableKeys=!0,this.keys={LEFT:37,UP:38,RIGHT:39,BOTTOM:40},this.mouseButtons={LEFT:o["V"].ROTATE,MIDDLE:o["V"].DOLLY,RIGHT:o["V"].PAN},this.touches={ONE:o["Ib"].ROTATE,TWO:o["Ib"].DOLLY_PAN},this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=function(){return p.phi},this.getAzimuthalAngle=function(){return p.theta},this.saveState=function(){n.target0.copy(n.target),n.position0.copy(n.object.position),n.zoom0=n.object.zoom},this.reset=function(){n.target.copy(n.target0),n.object.position.copy(n.position0),n.object.zoom=n.zoom0,n.object.updateProjectionMatrix(),n.dispatchEvent(a),n.update(),r=i.NONE},this.update=function(){var t=new o["Qb"],c=(new o["tb"]).setFromUnitVectors(e.up,new o["Qb"](0,1,0)),s=c.clone().inverse(),b=new o["Qb"],g=new o["tb"],v=2*Math.PI;return function(){var e=n.object.position;t.copy(e).sub(n.target),t.applyQuaternion(c),p.setFromVector3(t),n.autoRotate&&r===i.NONE&&L(T()),n.enableDamping?(p.theta+=m.theta*n.dampingFactor,p.phi+=m.phi*n.dampingFactor):(p.theta+=m.theta,p.phi+=m.phi);var o=n.minAzimuthAngle,f=n.maxAzimuthAngle;return isFinite(o)&&isFinite(f)&&(o<-Math.PI?o+=v:o>Math.PI&&(o-=v),f<-Math.PI?f+=v:f>Math.PI&&(f-=v),p.theta=o<f?Math.max(o,Math.min(f,p.theta)):p.theta>(o+f)/2?Math.max(o,p.theta):Math.min(f,p.theta)),p.phi=Math.max(n.minPolarAngle,Math.min(n.maxPolarAngle,p.phi)),p.makeSafe(),p.radius*=l,p.radius=Math.max(n.minDistance,Math.min(n.maxDistance,p.radius)),!0===n.enableDamping?n.target.addScaledVector(d,n.dampingFactor):n.target.add(d),t.setFromSpherical(p),t.applyQuaternion(s),e.copy(n.target).add(t),n.object.lookAt(n.target),!0===n.enableDamping?(m.theta*=1-n.dampingFactor,m.phi*=1-n.dampingFactor,d.multiplyScalar(1-n.dampingFactor)):(m.set(0,0,0),d.set(0,0,0)),l=1,!!(h||b.distanceToSquared(n.object.position)>u||8*(1-g.dot(n.object.quaternion))>u)&&(n.dispatchEvent(a),b.copy(n.object.position),g.copy(n.object.quaternion),h=!1,!0)}}(),this.dispose=function(){n.domElement.removeEventListener("contextmenu",ie,!1),n.domElement.removeEventListener("mousedown",J,!1),n.domElement.removeEventListener("wheel",ne,!1),n.domElement.removeEventListener("touchstart",ae,!1),n.domElement.removeEventListener("touchend",se,!1),n.domElement.removeEventListener("touchmove",ce,!1),n.domElement.ownerDocument.removeEventListener("mousemove",ee,!1),n.domElement.ownerDocument.removeEventListener("mouseup",te,!1),n.domElement.removeEventListener("keydown",oe,!1)};var n=this,a={type:"change"},c={type:"start"},s={type:"end"},i={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6},r=i.NONE,u=1e-6,p=new o["Fb"],m=new o["Fb"],l=1,d=new o["Qb"],h=!1,b=new o["Pb"],g=new o["Pb"],v=new o["Pb"],f=new o["Pb"],E=new o["Pb"],y=new o["Pb"],w=new o["Pb"],O=new o["Pb"],j=new o["Pb"];function T(){return 2*Math.PI/60/60*n.autoRotateSpeed}function P(){return Math.pow(.95,n.zoomSpeed)}function L(e){m.theta-=e}function N(e){m.phi-=e}var A=function(){var e=new o["Qb"];return function(t,n){e.setFromMatrixColumn(n,0),e.multiplyScalar(-t),d.add(e)}}(),k=function(){var e=new o["Qb"];return function(t,o){!0===n.screenSpacePanning?e.setFromMatrixColumn(o,1):(e.setFromMatrixColumn(o,0),e.crossVectors(n.object.up,e)),e.multiplyScalar(t),d.add(e)}}(),x=function(){var e=new o["Qb"];return function(t,o){var a=n.domElement;if(n.object.isPerspectiveCamera){var c=n.object.position;e.copy(c).sub(n.target);var s=e.length();s*=Math.tan(n.object.fov/2*Math.PI/180),A(2*t*s/a.clientHeight,n.object.matrix),k(2*o*s/a.clientHeight,n.object.matrix)}else n.object.isOrthographicCamera?(A(t*(n.object.right-n.object.left)/n.object.zoom/a.clientWidth,n.object.matrix),k(o*(n.object.top-n.object.bottom)/n.object.zoom/a.clientHeight,n.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),n.enablePan=!1)}}();function R(e){n.object.isPerspectiveCamera?l/=e:n.object.isOrthographicCamera?(n.object.zoom=Math.max(n.minZoom,Math.min(n.maxZoom,n.object.zoom*e)),n.object.updateProjectionMatrix(),h=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),n.enableZoom=!1)}function D(e){n.object.isPerspectiveCamera?l*=e:n.object.isOrthographicCamera?(n.object.zoom=Math.max(n.minZoom,Math.min(n.maxZoom,n.object.zoom/e)),n.object.updateProjectionMatrix(),h=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),n.enableZoom=!1)}function M(e){b.set(e.clientX,e.clientY)}function C(e){w.set(e.clientX,e.clientY)}function Y(e){f.set(e.clientX,e.clientY)}function z(e){g.set(e.clientX,e.clientY),v.subVectors(g,b).multiplyScalar(n.rotateSpeed);var t=n.domElement;L(2*Math.PI*v.x/t.clientHeight),N(2*Math.PI*v.y/t.clientHeight),b.copy(g),n.update()}function S(e){O.set(e.clientX,e.clientY),j.subVectors(O,w),j.y>0?R(P()):j.y<0&&D(P()),w.copy(O),n.update()}function Z(e){E.set(e.clientX,e.clientY),y.subVectors(E,f).multiplyScalar(n.panSpeed),x(y.x,y.y),f.copy(E),n.update()}function _(){}function X(e){e.deltaY<0?D(P()):e.deltaY>0&&R(P()),n.update()}function H(e){var t=!1;switch(e.keyCode){case n.keys.UP:x(0,n.keyPanSpeed),t=!0;break;case n.keys.BOTTOM:x(0,-n.keyPanSpeed),t=!0;break;case n.keys.LEFT:x(n.keyPanSpeed,0),t=!0;break;case n.keys.RIGHT:x(-n.keyPanSpeed,0),t=!0;break}t&&(e.preventDefault(),n.update())}function I(e){if(1==e.touches.length)b.set(e.touches[0].pageX,e.touches[0].pageY);else{var t=.5*(e.touches[0].pageX+e.touches[1].pageX),n=.5*(e.touches[0].pageY+e.touches[1].pageY);b.set(t,n)}}function F(e){if(1==e.touches.length)f.set(e.touches[0].pageX,e.touches[0].pageY);else{var t=.5*(e.touches[0].pageX+e.touches[1].pageX),n=.5*(e.touches[0].pageY+e.touches[1].pageY);f.set(t,n)}}function V(e){var t=e.touches[0].pageX-e.touches[1].pageX,n=e.touches[0].pageY-e.touches[1].pageY,o=Math.sqrt(t*t+n*n);w.set(0,o)}function U(e){n.enableZoom&&V(e),n.enablePan&&F(e)}function Q(e){n.enableZoom&&V(e),n.enableRotate&&I(e)}function B(e){if(1==e.touches.length)g.set(e.touches[0].pageX,e.touches[0].pageY);else{var t=.5*(e.touches[0].pageX+e.touches[1].pageX),o=.5*(e.touches[0].pageY+e.touches[1].pageY);g.set(t,o)}v.subVectors(g,b).multiplyScalar(n.rotateSpeed);var a=n.domElement;L(2*Math.PI*v.x/a.clientHeight),N(2*Math.PI*v.y/a.clientHeight),b.copy(g)}function q(e){if(1==e.touches.length)E.set(e.touches[0].pageX,e.touches[0].pageY);else{var t=.5*(e.touches[0].pageX+e.touches[1].pageX),o=.5*(e.touches[0].pageY+e.touches[1].pageY);E.set(t,o)}y.subVectors(E,f).multiplyScalar(n.panSpeed),x(y.x,y.y),f.copy(E)}function G(e){var t=e.touches[0].pageX-e.touches[1].pageX,o=e.touches[0].pageY-e.touches[1].pageY,a=Math.sqrt(t*t+o*o);O.set(0,a),j.set(0,Math.pow(O.y/w.y,n.zoomSpeed)),R(j.y),w.copy(O)}function W(e){n.enableZoom&&G(e),n.enablePan&&q(e)}function K(e){n.enableZoom&&G(e),n.enableRotate&&B(e)}function $(){}function J(e){if(!1!==n.enabled){var t;switch(e.preventDefault(),n.domElement.focus?n.domElement.focus():window.focus(),e.button){case 0:t=n.mouseButtons.LEFT;break;case 1:t=n.mouseButtons.MIDDLE;break;case 2:t=n.mouseButtons.RIGHT;break;default:t=-1}switch(t){case o["V"].DOLLY:if(!1===n.enableZoom)return;C(e),r=i.DOLLY;break;case o["V"].ROTATE:if(e.ctrlKey||e.metaKey||e.shiftKey){if(!1===n.enablePan)return;Y(e),r=i.PAN}else{if(!1===n.enableRotate)return;M(e),r=i.ROTATE}break;case o["V"].PAN:if(e.ctrlKey||e.metaKey||e.shiftKey){if(!1===n.enableRotate)return;M(e),r=i.ROTATE}else{if(!1===n.enablePan)return;Y(e),r=i.PAN}break;default:r=i.NONE}r!==i.NONE&&(n.domElement.ownerDocument.addEventListener("mousemove",ee,!1),n.domElement.ownerDocument.addEventListener("mouseup",te,!1),n.dispatchEvent(c))}}function ee(e){if(!1!==n.enabled)switch(e.preventDefault(),r){case i.ROTATE:if(!1===n.enableRotate)return;z(e);break;case i.DOLLY:if(!1===n.enableZoom)return;S(e);break;case i.PAN:if(!1===n.enablePan)return;Z(e);break}}function te(e){!1!==n.enabled&&(_(e),n.domElement.ownerDocument.removeEventListener("mousemove",ee,!1),n.domElement.ownerDocument.removeEventListener("mouseup",te,!1),n.dispatchEvent(s),r=i.NONE)}function ne(e){!1===n.enabled||!1===n.enableZoom||r!==i.NONE&&r!==i.ROTATE||(e.preventDefault(),e.stopPropagation(),n.dispatchEvent(c),X(e),n.dispatchEvent(s))}function oe(e){!1!==n.enabled&&!1!==n.enableKeys&&!1!==n.enablePan&&H(e)}function ae(e){if(!1!==n.enabled){switch(e.preventDefault(),e.touches.length){case 1:switch(n.touches.ONE){case o["Ib"].ROTATE:if(!1===n.enableRotate)return;I(e),r=i.TOUCH_ROTATE;break;case o["Ib"].PAN:if(!1===n.enablePan)return;F(e),r=i.TOUCH_PAN;break;default:r=i.NONE}break;case 2:switch(n.touches.TWO){case o["Ib"].DOLLY_PAN:if(!1===n.enableZoom&&!1===n.enablePan)return;U(e),r=i.TOUCH_DOLLY_PAN;break;case o["Ib"].DOLLY_ROTATE:if(!1===n.enableZoom&&!1===n.enableRotate)return;Q(e),r=i.TOUCH_DOLLY_ROTATE;break;default:r=i.NONE}break;default:r=i.NONE}r!==i.NONE&&n.dispatchEvent(c)}}function ce(e){if(!1!==n.enabled)switch(e.preventDefault(),e.stopPropagation(),r){case i.TOUCH_ROTATE:if(!1===n.enableRotate)return;B(e),n.update();break;case i.TOUCH_PAN:if(!1===n.enablePan)return;q(e),n.update();break;case i.TOUCH_DOLLY_PAN:if(!1===n.enableZoom&&!1===n.enablePan)return;W(e),n.update();break;case i.TOUCH_DOLLY_ROTATE:if(!1===n.enableZoom&&!1===n.enableRotate)return;K(e),n.update();break;default:r=i.NONE}}function se(e){!1!==n.enabled&&($(e),n.dispatchEvent(s),r=i.NONE)}function ie(e){!1!==n.enabled&&e.preventDefault()}n.domElement.addEventListener("contextmenu",ie,!1),n.domElement.addEventListener("mousedown",J,!1),n.domElement.addEventListener("wheel",ne,!1),n.domElement.addEventListener("touchstart",ae,!1),n.domElement.addEventListener("touchend",se,!1),n.domElement.addEventListener("touchmove",ce,!1),n.domElement.addEventListener("keydown",oe,!1),-1===n.domElement.tabIndex&&(n.domElement.tabIndex=0),this.update()};a.prototype=Object.create(o["v"].prototype),a.prototype.constructor=a;var c=function(e,t){a.call(this,e,t),this.screenSpacePanning=!1,this.mouseButtons.LEFT=o["V"].PAN,this.mouseButtons.RIGHT=o["V"].ROTATE,this.touches.ONE=o["Ib"].PAN,this.touches.TWO=o["Ib"].DOLLY_ROTATE};c.prototype=Object.create(o["v"].prototype),c.prototype.constructor=c},"6fce":function(e,t,n){"use strict";n.r(t);var o=n("5c40"),a=n("9ff4");function c(e,t){return Object(o["p"])(),Object(o["d"])("div",{ref:"list",class:e.$style.content},[Object(o["g"])("video",{ref:"video",src:"textures/pano.mp4",muted:"",loop:"",playsinline:"",crossorigin:"anonymous",class:e.$style.hide},null,2),Object(o["g"])("canvas",{ref:"cvs",class:e.$style.canvas},null,2),(Object(o["p"])(!0),Object(o["d"])(o["b"],null,Object(o["q"])(e.geometries,(function(t,n){return Object(o["p"])(),Object(o["d"])("div",{class:e.$style.item,key:n},[Object(o["g"])("div",{ref:function(t){e.item[n]=t}},null,512),Object(o["g"])("div",null,Object(a["G"])(t),1)],2)})),128))],2)}n("4160"),n("159b");var s=n("a1e9"),i=n("5a89"),r=(n("4721"),n("ed08")),u=n("920c"),p=0,m=[],l=function(e,t){m.push({elem:e,fn:t})},d=function(e){var t=new i["zb"],n=new i["mb"](45,1,.1,100);n.position.set(-1,1,2),t.add(n);var o=new i["r"];o.position.set(-1,2,4),n.add(o);var a=new u["a"](n,e);return a.noPan=!0,a.noZoom=!0,{scene:t,camera:n,controls:a}},h=function(e,t,n,o,a){var c=d(t),s=c.scene,i=c.camera,r=c.controls;s.add(n),a&&a(s,i),l(t,(function(t){o&&o(e,s),r.update(),e.render(s,i)}))},b=function(e,t,n){var o=e.domElement,a=n.scrollTop;o.style.transform="translateY(".concat(a,"px)");var c=n.getBoundingClientRect(),s=c.left,i=c.top,r=c.bottom;m.forEach((function(n){var o=n.elem,a=n.fn,c=o.getBoundingClientRect(),u=c.left,p=c.top,m=c.bottom,l=c.width,d=c.height;if(!(m<i||p>r)){var h=r-m,b=u-s;e.setScissor(b,h,l,d),e.setViewport(b,h,l,d),a(t)}}))},g=Object(o["i"])({setup:function(){var e=Object(s["i"])(null),t=Object(s["i"])(null),n=Object(s["i"])(null),a=Object(s["i"])([]),c=Object(s["i"])(["TextureLoader","LoadingManager","CubeTextureLoader","VideoTexture","CanvasTexture","RenderTarget.texture","Scene.background"]);return Object(o["n"])((function(){var o=new i["Ub"]({canvas:e.value}),s=new i["h"];c.value.forEach((function(e,t){var c;if("TextureLoader"===e){var u=new i["Lb"],p=new i["ab"]({map:u.load("textures/cube/neg-x.jpg")});c=new i["Z"](s,p),h(o,a.value[t],c)}else if("LoadingManager"===e){var m=new i["U"],l=new i["Lb"](m),d=[new i["ab"]({map:l.load("textures/cube/pos-x.jpg")}),new i["ab"]({map:l.load("textures/cube/neg-x.jpg")}),new i["ab"]({map:l.load("textures/cube/pos-y.jpg")}),new i["ab"]({map:l.load("textures/cube/neg-y.jpg")}),new i["ab"]({map:l.load("textures/cube/pos-z.jpg")}),new i["ab"]({map:l.load("textures/cube/neg-z.jpg")})];c=new i["Z"](s,d),h(o,a.value[t],c)}else if("CubeTextureLoader"===e){var b=new i["p"],g=b.setPath("textures/cube/").load(["pos-x.jpg","neg-x.jpg","pos-y.jpg","neg-y.jpg","pos-z.jpg","neg-z.jpg"]),v=new i["ab"]({envMap:g});c=new i["Z"](new i["Eb"](.8,32,16),v),h(o,a.value[t],c)}else if("VideoTexture"===e){n.value.play();var f=new i["Sb"](n.value),E=new i["ab"]({map:f}),y=new i["Eb"](2,32,16);y.scale(-1,1,1),c=new i["Z"](y,E),h(o,a.value[t],c)}else if("CanvasTexture"===e){var w=r["j"].canvas,O=r["j"].drawRandDot,j=new i["l"](w),T=new i["ab"]({map:j});c=new i["Z"](s,T),h(o,a.value[t],c,(function(){O(),j.needsUpdate=!0}))}else if("RenderTarget.texture"===e){var P=new i["Tb"](512,512,{depthBuffer:!1,stencilBuffer:!1});c=new i["Z"](s,new i["bb"]({map:P.texture}));var L=r["j"].canvas,N=r["j"].drawRandDot,A=new i["l"](L),k=new i["Z"](s,new i["ab"]({map:A})),x=new i["mb"](45,1,.1,100);x.position.z=3;var R=new i["zb"];R.background=new i["o"]("cyan"),R.add(k),h(o,a.value[t],c,(function(e){N(),A.needsUpdate=!0,k.rotation.x+=.01,k.rotation.y+=.01,e.setRenderTarget(P),e.render(R,x),e.setRenderTarget(null)}))}else{var D=new i["p"],M=D.setPath("textures/cube/").load(["pos-x.jpg","neg-x.jpg","pos-y.jpg","neg-y.jpg","pos-z.jpg","neg-z.jpg"]),C=new i["ab"]({envMap:M});c=new i["Z"](new i["Eb"](.4,32,16),C),h(o,a.value[t],c,void 0,(function(e){e.background=M}))}}));var u=function e(n){n*=.001,Object(r["o"])(o),o.setClearColor(16777215),o.setScissorTest(!1),o.clear(),o.setClearColor(14737632),o.setScissorTest(!0),b(o,n,t.value),p=requestAnimationFrame(e)};p=requestAnimationFrame(u)})),Object(o["m"])((function(){cancelAnimationFrame(p)})),{cvs:e,video:n,list:t,item:a,geometries:c}}}),v=n("162d");const f=g.__cssModules={};f["$style"]=v["default"],g.render=c;t["default"]=g},"920c":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var o=n("5a89"),a=function(e,t){void 0===t&&console.warn('THREE.TrackballControls: The second parameter "domElement" is now mandatory.'),t===document&&console.error('THREE.TrackballControls: "document" should not be used as the target "domElement". Please use "renderer.domElement" instead.');var n=this,a={NONE:-1,ROTATE:0,ZOOM:1,PAN:2,TOUCH_ROTATE:3,TOUCH_ZOOM_PAN:4};this.object=e,this.domElement=t,this.enabled=!0,this.screen={left:0,top:0,width:0,height:0},this.rotateSpeed=1,this.zoomSpeed=1.2,this.panSpeed=.3,this.noRotate=!1,this.noZoom=!1,this.noPan=!1,this.staticMoving=!1,this.dynamicDampingFactor=.2,this.minDistance=0,this.maxDistance=1/0,this.keys=[65,83,68],this.mouseButtons={LEFT:o["V"].ROTATE,MIDDLE:o["V"].ZOOM,RIGHT:o["V"].PAN},this.target=new o["Qb"];var c=1e-6,s=new o["Qb"],i=1,r=a.NONE,u=a.NONE,p=new o["Qb"],m=new o["Pb"],l=new o["Pb"],d=new o["Qb"],h=0,b=new o["Pb"],g=new o["Pb"],v=0,f=0,E=new o["Pb"],y=new o["Pb"];this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.up0=this.object.up.clone(),this.zoom0=this.object.zoom;var w={type:"change"},O={type:"start"},j={type:"end"};this.handleResize=function(){var e=n.domElement.getBoundingClientRect(),t=n.domElement.ownerDocument.documentElement;n.screen.left=e.left+window.pageXOffset-t.clientLeft,n.screen.top=e.top+window.pageYOffset-t.clientTop,n.screen.width=e.width,n.screen.height=e.height};var T=function(){var e=new o["Pb"];return function(t,o){return e.set((t-n.screen.left)/n.screen.width,(o-n.screen.top)/n.screen.height),e}}(),P=function(){var e=new o["Pb"];return function(t,o){return e.set((t-.5*n.screen.width-n.screen.left)/(.5*n.screen.width),(n.screen.height+2*(n.screen.top-o))/n.screen.width),e}}();function L(e){!1!==n.enabled&&(window.removeEventListener("keydown",L),u===a.NONE&&(e.keyCode!==n.keys[a.ROTATE]||n.noRotate?e.keyCode!==n.keys[a.ZOOM]||n.noZoom?e.keyCode!==n.keys[a.PAN]||n.noPan||(u=a.PAN):u=a.ZOOM:u=a.ROTATE))}function N(){!1!==n.enabled&&(u=a.NONE,window.addEventListener("keydown",L,!1))}function A(e){if(!1!==n.enabled){if(e.preventDefault(),e.stopPropagation(),r===a.NONE)switch(e.button){case n.mouseButtons.LEFT:r=a.ROTATE;break;case n.mouseButtons.MIDDLE:r=a.ZOOM;break;case n.mouseButtons.RIGHT:r=a.PAN;break;default:r=a.NONE}var t=u!==a.NONE?u:r;t!==a.ROTATE||n.noRotate?t!==a.ZOOM||n.noZoom?t!==a.PAN||n.noPan||(E.copy(T(e.pageX,e.pageY)),y.copy(E)):(b.copy(T(e.pageX,e.pageY)),g.copy(b)):(l.copy(P(e.pageX,e.pageY)),m.copy(l)),n.domElement.ownerDocument.addEventListener("mousemove",k,!1),n.domElement.ownerDocument.addEventListener("mouseup",x,!1),n.dispatchEvent(O)}}function k(e){if(!1!==n.enabled){e.preventDefault(),e.stopPropagation();var t=u!==a.NONE?u:r;t!==a.ROTATE||n.noRotate?t!==a.ZOOM||n.noZoom?t!==a.PAN||n.noPan||y.copy(T(e.pageX,e.pageY)):g.copy(T(e.pageX,e.pageY)):(m.copy(l),l.copy(P(e.pageX,e.pageY)))}}function x(e){!1!==n.enabled&&(e.preventDefault(),e.stopPropagation(),r=a.NONE,n.domElement.ownerDocument.removeEventListener("mousemove",k),n.domElement.ownerDocument.removeEventListener("mouseup",x),n.dispatchEvent(j))}function R(e){if(!1!==n.enabled&&!0!==n.noZoom){switch(e.preventDefault(),e.stopPropagation(),e.deltaMode){case 2:b.y-=.025*e.deltaY;break;case 1:b.y-=.01*e.deltaY;break;default:b.y-=25e-5*e.deltaY;break}n.dispatchEvent(O),n.dispatchEvent(j)}}function D(e){if(!1!==n.enabled){switch(e.preventDefault(),e.touches.length){case 1:r=a.TOUCH_ROTATE,l.copy(P(e.touches[0].pageX,e.touches[0].pageY)),m.copy(l);break;default:r=a.TOUCH_ZOOM_PAN;var t=e.touches[0].pageX-e.touches[1].pageX,o=e.touches[0].pageY-e.touches[1].pageY;f=v=Math.sqrt(t*t+o*o);var c=(e.touches[0].pageX+e.touches[1].pageX)/2,s=(e.touches[0].pageY+e.touches[1].pageY)/2;E.copy(T(c,s)),y.copy(E);break}n.dispatchEvent(O)}}function M(e){if(!1!==n.enabled)switch(e.preventDefault(),e.stopPropagation(),e.touches.length){case 1:m.copy(l),l.copy(P(e.touches[0].pageX,e.touches[0].pageY));break;default:var t=e.touches[0].pageX-e.touches[1].pageX,o=e.touches[0].pageY-e.touches[1].pageY;f=Math.sqrt(t*t+o*o);var a=(e.touches[0].pageX+e.touches[1].pageX)/2,c=(e.touches[0].pageY+e.touches[1].pageY)/2;y.copy(T(a,c));break}}function C(e){if(!1!==n.enabled){switch(e.touches.length){case 0:r=a.NONE;break;case 1:r=a.TOUCH_ROTATE,l.copy(P(e.touches[0].pageX,e.touches[0].pageY)),m.copy(l);break}n.dispatchEvent(j)}}function Y(e){!1!==n.enabled&&e.preventDefault()}this.rotateCamera=function(){var e,t=new o["Qb"],a=new o["tb"],c=new o["Qb"],s=new o["Qb"],i=new o["Qb"],r=new o["Qb"];return function(){r.set(l.x-m.x,l.y-m.y,0),e=r.length(),e?(p.copy(n.object.position).sub(n.target),c.copy(p).normalize(),s.copy(n.object.up).normalize(),i.crossVectors(s,c).normalize(),s.setLength(l.y-m.y),i.setLength(l.x-m.x),r.copy(s.add(i)),t.crossVectors(r,p).normalize(),e*=n.rotateSpeed,a.setFromAxisAngle(t,e),p.applyQuaternion(a),n.object.up.applyQuaternion(a),d.copy(t),h=e):!n.staticMoving&&h&&(h*=Math.sqrt(1-n.dynamicDampingFactor),p.copy(n.object.position).sub(n.target),a.setFromAxisAngle(d,h),p.applyQuaternion(a),n.object.up.applyQuaternion(a)),m.copy(l)}}(),this.zoomCamera=function(){var e;r===a.TOUCH_ZOOM_PAN?(e=v/f,v=f,n.object.isPerspectiveCamera?p.multiplyScalar(e):n.object.isOrthographicCamera?(n.object.zoom*=e,n.object.updateProjectionMatrix()):console.warn("THREE.TrackballControls: Unsupported camera type")):(e=1+(g.y-b.y)*n.zoomSpeed,1!==e&&e>0&&(n.object.isPerspectiveCamera?p.multiplyScalar(e):n.object.isOrthographicCamera?(n.object.zoom/=e,n.object.updateProjectionMatrix()):console.warn("THREE.TrackballControls: Unsupported camera type")),n.staticMoving?b.copy(g):b.y+=(g.y-b.y)*this.dynamicDampingFactor)},this.panCamera=function(){var e=new o["Pb"],t=new o["Qb"],a=new o["Qb"];return function(){if(e.copy(y).sub(E),e.lengthSq()){if(n.object.isOrthographicCamera){var o=(n.object.right-n.object.left)/n.object.zoom/n.domElement.clientWidth,c=(n.object.top-n.object.bottom)/n.object.zoom/n.domElement.clientWidth;e.x*=o,e.y*=c}e.multiplyScalar(p.length()*n.panSpeed),a.copy(p).cross(n.object.up).setLength(e.x),a.add(t.copy(n.object.up).setLength(e.y)),n.object.position.add(a),n.target.add(a),n.staticMoving?E.copy(y):E.add(e.subVectors(y,E).multiplyScalar(n.dynamicDampingFactor))}}}(),this.checkDistances=function(){n.noZoom&&n.noPan||(p.lengthSq()>n.maxDistance*n.maxDistance&&(n.object.position.addVectors(n.target,p.setLength(n.maxDistance)),b.copy(g)),p.lengthSq()<n.minDistance*n.minDistance&&(n.object.position.addVectors(n.target,p.setLength(n.minDistance)),b.copy(g)))},this.update=function(){p.subVectors(n.object.position,n.target),n.noRotate||n.rotateCamera(),n.noZoom||n.zoomCamera(),n.noPan||n.panCamera(),n.object.position.addVectors(n.target,p),n.object.isPerspectiveCamera?(n.checkDistances(),n.object.lookAt(n.target),s.distanceToSquared(n.object.position)>c&&(n.dispatchEvent(w),s.copy(n.object.position))):n.object.isOrthographicCamera?(n.object.lookAt(n.target),(s.distanceToSquared(n.object.position)>c||i!==n.object.zoom)&&(n.dispatchEvent(w),s.copy(n.object.position),i=n.object.zoom)):console.warn("THREE.TrackballControls: Unsupported camera type")},this.reset=function(){r=a.NONE,u=a.NONE,n.target.copy(n.target0),n.object.position.copy(n.position0),n.object.up.copy(n.up0),n.object.zoom=n.zoom0,n.object.updateProjectionMatrix(),p.subVectors(n.object.position,n.target),n.object.lookAt(n.target),n.dispatchEvent(w),s.copy(n.object.position),i=n.object.zoom},this.dispose=function(){n.domElement.removeEventListener("contextmenu",Y,!1),n.domElement.removeEventListener("mousedown",A,!1),n.domElement.removeEventListener("wheel",R,!1),n.domElement.removeEventListener("touchstart",D,!1),n.domElement.removeEventListener("touchend",C,!1),n.domElement.removeEventListener("touchmove",M,!1),n.domElement.ownerDocument.removeEventListener("mousemove",k,!1),n.domElement.ownerDocument.removeEventListener("mouseup",x,!1),window.removeEventListener("keydown",L,!1),window.removeEventListener("keyup",N,!1)},this.domElement.addEventListener("contextmenu",Y,!1),this.domElement.addEventListener("mousedown",A,!1),this.domElement.addEventListener("wheel",R,!1),this.domElement.addEventListener("touchstart",D,!1),this.domElement.addEventListener("touchend",C,!1),this.domElement.addEventListener("touchmove",M,!1),window.addEventListener("keydown",L,!1),window.addEventListener("keyup",N,!1),this.handleResize(),this.update()};a.prototype=Object.create(o["v"].prototype),a.prototype.constructor=a}}]);